; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting

; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env]
board_build.partitions = partitions/app3M5_spiffs_4M5_8MB.csv
platform = https://github.com/pioarduino/platform-espressif32/releases/download/stable/platform-espressif32.zip
framework = arduino
monitor_speed = 115200
upload_speed = 921600
build_flags =
  -Wl,-zmuldefs ; ieee80211_raw_frame_sanity_check override - needed for WiFi deauth 
  ; -D ENABLE_FASTLED_PROTOCOL_SWITCHES ; Linux users can uncomment this line

[env:cardputer]
board = m5stack-stamps3
lib_deps =
    M5Cardputer=https://github.com/m5stack/M5Cardputer
    fastled/FastLED@^3.3.3
    bblanchon/ArduinoJson@^7.3.0
    paulstoffregen/OneWire@^2.3.8
    esp32ping
    hideakitai/ESP32SPISlave@^0.6.8
    gilman88/XModem@^1.0.3
    ewpa/LibSSH-ESP32@^5.6.0
    autowp/autowp-mcp2515@^1.2.1
    sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
    miq19/eModbus@^1.7.4
    pstolarz/OneWireNg@^0.14.0
    nrf24/RF24@^1.5.0
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  -DDEVICE_CARDPUTER
  
  ; --- Pin in use ---
  -DPROTECTED_PINS="\"8,9,11,19,20,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38\""

  ; --- Builtin LED ---
  -DLED_PIN=21
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=1

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=1
  -DTWOWIRE_IO_PIN=2
  -DTWOWIRE_RST_PIN=12

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=12
  -DTHREEWIRE_SK_PIN=40
  -DTHREEWIRE_DI_PIN=39
  -DTHREEWIRE_DO_PIN=14

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=1
  -DUART_TX_PIN=2

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=1

  ; --- I2C ---
  -DI2C_SCL_PIN=1
  -DI2C_SDA_PIN=2
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=12
  -DSPI_CLK_PIN=40
  -DSPI_MISO_PIN=39
  -DSPI_MOSI_PIN=14

  ; --- SDCARD ---
  -DSDCARD_CS_PIN=12
  -DSDCARD_CLK_PIN=40
  -DSDCARD_MISO_PIN=39
  -DSDCARD_MOSI_PIN=14

  ; --- Infrared ---
  -DIR_TX_PIN=44
  -DIR_RX_PIN=1

  ; --- LED ---
  -DLED_DATA_PIN=1
  -DLED_CLOCK_PIN=2

  ; --- I2S ---
  -DI2S_BCLK_PIN=41
  -DI2S_LRCK_PIN=43
  -DI2S_DATA_PIN=42
  -DI2S_SAMPLE_RATE=44100
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=12
  -DCAN_SCK_PIN=40
  -DCAN_SI_PIN=39
  -DCAN_SO_PIN=14
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=12
  -DETHERNET_CLK_PIN=40
  -DETHERNET_MISO_PIN=39
  -DETHERNET_MOSI_PIN=14
  -DETHERNET_IRQ_PIN=1

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=12
  -DSUBGHZ_SCK_PIN=40
  -DSUBGHZ_SI_PIN=39
  -DSUBGHZ_SO_PIN=14
  -DSUBGHZ_GDO_PIN=1

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"1, 2, 12, 40\""


[env:cardputer-adv]
board = m5stack-stamps3
lib_deps =
    M5Cardputer=https://github.com/m5stack/M5Cardputer
    fastled/FastLED@^3.3.3
    bblanchon/ArduinoJson@^7.3.0
    paulstoffregen/OneWire@^2.3.8
    esp32ping
    hideakitai/ESP32SPISlave@^0.6.8
    gilman88/XModem@^1.0.3
    ewpa/LibSSH-ESP32@^5.6.0
    autowp/autowp-mcp2515@^1.2.1
    sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
    miq19/eModbus@^1.7.4
    pstolarz/OneWireNg@^0.14.0
    nrf24/RF24@^1.5.0
    adafruit/Adafruit TCA8418@^1.0.2
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  -DDEVICE_CARDPUTER
  
  ; --- Pin in use ---
  -DPROTECTED_PINS="\"19,20,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38\""

  ; --- Builtin LED ---
  -DLED_PIN=21
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=3

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=1
  -DTWOWIRE_IO_PIN=2
  -DTWOWIRE_RST_PIN=3

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=1
  -DTHREEWIRE_SK_PIN=2
  -DTHREEWIRE_DI_PIN=3
  -DTHREEWIRE_DO_PIN=4

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=1
  -DUART_TX_PIN=2

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=3

  ; --- I2C ---
  -DI2C_SCL_PIN=1
  -DI2C_SDA_PIN=2
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=5
  -DSPI_CLK_PIN=15
  -DSPI_MISO_PIN=13
  -DSPI_MOSI_PIN=39

  ; --- SDCARD ---
  -DSDCARD_CS_PIN=12
  -DSDCARD_CLK_PIN=40
  -DSDCARD_MISO_PIN=39
  -DSDCARD_MOSI_PIN=14

  ; --- Infrared ---
  -DIR_TX_PIN=44
  -DIR_RX_PIN=1

  ; --- LED ---
  -DLED_DATA_PIN=5
  -DLED_CLOCK_PIN=15

  ; --- I2S ---
  -DI2S_BCLK_PIN=41
  -DI2S_LRCK_PIN=43
  -DI2S_DATA_PIN=42
  -DI2S_SAMPLE_RATE=44100
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=5
  -DCAN_SCK_PIN=15
  -DCAN_SO_PIN=13
  -DCAN_SI_PIN=39
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=5
  -DETHERNET_CLK_PIN=15
  -DETHERNET_MISO_PIN=13
  -DETHERNET_MOSI_PIN=39
  -DETHERNET_IRQ_PIN=3

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=5
  -DSUBGHZ_SCK_PIN=15
  -DSUBGHZ_SI_PIN=13
  -DSUBGHZ_SO_PIN=39
  -DSUBGHZ_GDO_PIN=3

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"1, 2, 13, 39, 5, 15, 40\""

[env:m5stack-sticks3]
board = esp32-s3-devkitc-1
board_build.flash_size = 8MB
board_build.arduino.memory_type = qio_opi
lib_deps =
    M5Unified=https://github.com/m5stack/M5Unified.git#develop
    fastled/FastLED@^3.3.3
    bblanchon/ArduinoJson@^7.3.0
    paulstoffregen/OneWire@^2.3.8
    esp32ping
    hideakitai/ESP32SPISlave@^0.6.8
    gilman88/XModem@^1.0.3
    ewpa/LibSSH-ESP32@^5.6.0
    autowp/autowp-mcp2515@^1.2.1
    sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
    miq19/eModbus@^1.7.4
    nrf24/RF24@^1.5.0
    paulstoffregen/OneWire@^2.3.8
    pstolarz/OneWireNg@^0.14.0

build_flags =
  -DDEVICE_STICKS3
  -DESP32S3
  -DBOARD_HAS_PSRAM
  -mfix-esp32-psram-cache-issue
  -DARDUINO_USB_CDC_ON_BOOT=1
  -DARDUINO_USB_MODE=1
  -DCONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  ; --- Pin in use ---
  -DPROTECTED_PINS="\"21,38,39,40,41,45\""

  ; --- Builtin LED ---
  -DLED_PIN=1
  -DLED_TYPE_RGB=false

  ; --- OneWire ---
  -DONEWIRE_PIN=4

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=10
  -DUART_TX_PIN=9

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=4

  ; --- I2C ---
  -DI2C_SCL_PIN=10
  -DI2C_SDA_PIN=9
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=4
  -DSPI_CLK_PIN=5
  -DSPI_MISO_PIN=6
  -DSPI_MOSI_PIN=7

  ; --- Infrared ---
  -DIR_TX_PIN=46
  -DIR_RX_PIN=42

  ; --- LED ---
  -DLED_DATA_PIN=4
  -DLED_CLOCK_PIN=5

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=5
  -DTWOWIRE_IO_PIN=4
  -DTWOWIRE_RST_PIN=6

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=4
  -DTHREEWIRE_SK_PIN=5
  -DTHREEWIRE_DI_PIN=6
  -DTHREEWIRE_DO_PIN=7

  ; --- I2S ---
  -DI2S_BCLK_PIN=4
  -DI2S_LRCK_PIN=5
  -DI2S_DATA_PIN=6
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=4
  -DCAN_SCK_PIN=5
  -DCAN_SI_PIN=6
  -DCAN_SO_PIN=7
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=4
  -DETHERNET_CLK_PIN=5
  -DETHERNET_MISO_PIN=6
  -DETHERNET_MOSI_PIN=7
  -DETHERNET_IRQ_PIN=8

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=4
  -DSUBGHZ_SCK_PIN=5
  -DSUBGHZ_SI_PIN=6
  -DSUBGHZ_SO_PIN=7
  -DSUBGHZ_GDO_PIN=8

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"4, 5, 6, 7\""


[env:s3-devkit]
; Generic s3-devkit works also with esp32S3-Nx-R8/R16 that have Octal SPIRAM
; GPIO35, 36, 37 are tagged as prohibited as they are used by octal SPIRAM
; using board = esp32-s3-devkitc-1 Flash partition only uses 8MB of the Flash even it is larger
board = esp32-s3-devkitc-1
lib_deps =
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  -DDEVICE_S3DEVKIT

 ; --- Pin in use ---
;  -DPROTECTED_PINS="\"3, 19, 20, 35, 36, 37, 45, 46\""
  -DPROTECTED_PINS="\"3, 19, 20, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 45, 46\""

  ; --- Builtin LED ---
  -DLED_PIN=48
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=6

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=17
  -DUART_TX_PIN=18

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=17

  ; --- I2C ---
  -DI2C_SCL_PIN=7
  -DI2C_SDA_PIN=6
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=10
  -DSPI_CLK_PIN=12
  -DSPI_MISO_PIN=11
  -DSPI_MOSI_PIN=13

  ; --- Infrared ---
  -DIR_TX_PIN=4
  -DIR_RX_PIN=5

  ; --- LED ---
  -DLED_DATA_PIN=15
  -DLED_CLOCK_PIN=16

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=12
  -DTWOWIRE_IO_PIN=11
  -DTWOWIRE_RST_PIN=14

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=10
  -DTHREEWIRE_SK_PIN=12
  -DTHREEWIRE_DI_PIN=13
  -DTHREEWIRE_DO_PIN=11

  ; --- I2S ---
  -DI2S_BCLK_PIN=42
  -DI2S_LRCK_PIN=41
  -DI2S_DATA_PIN=2
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=10
  -DCAN_SCK_PIN=12
  -DCAN_SI_PIN=13
  -DCAN_SO_PIN=11
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=10
  -DETHERNET_CLK_PIN=12
  -DETHERNET_MISO_PIN=11
  -DETHERNET_MOSI_PIN=13
  -DETHERNET_IRQ_PIN=14

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=10
  -DSUBGHZ_SCK_PIN=12
  -DSUBGHZ_SI_PIN=13
  -DSUBGHZ_SO_PIN=11
  -DSUBGHZ_GDO_PIN=14

  ; --- RF24 ---
  ; use same wiring as SUBGHZ

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"10, 11, 12, 13, 14\""


[env:s3-devkit-n16-r8]
; Specific to esp32-s3-n16r8-devkit that have Octal SPIRAM
; GPIO35, 36, 37 are tagged as prohibited as they are used by octal SPIRAM
; using board = esp32-s3-devkitc-1-n16r8 in order to use all the remaining flash for a large filesystem
board = esp32-s3-devkitc1-n16r8

board_build.partitions = partitions/app4M_spiffs_12M_16MB.csv

lib_deps =
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  -D BOARD_HAS_PSRAM=1
  ${env.build_flags}

  -D DEVICE_S3DEVKIT

 ; --- Pin in use ---
;  -DPROTECTED_PINS="\"3, 19, 20, 35, 36, 37, 45, 46\""
  -DPROTECTED_PINS="\"3, 19, 20, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 45, 46\""

  ; --- Builtin LED ---
  -DLED_PIN=48
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=6

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=17
  -DUART_TX_PIN=18

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=17

  ; --- I2C ---
  -DI2C_SCL_PIN=7
  -DI2C_SDA_PIN=6
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=10
  -DSPI_CLK_PIN=12
  -DSPI_MISO_PIN=11
  -DSPI_MOSI_PIN=13

  ; --- Infrared ---
  -DIR_TX_PIN=4
  -DIR_RX_PIN=5

  ; --- LED ---
  -DLED_DATA_PIN=15
  -DLED_CLOCK_PIN=16

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=12
  -DTWOWIRE_IO_PIN=11
  -DTWOWIRE_RST_PIN=14

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=10
  -DTHREEWIRE_SK_PIN=12
  -DTHREEWIRE_DI_PIN=13
  -DTHREEWIRE_DO_PIN=11

  ; --- I2S ---
  -DI2S_BCLK_PIN=42
  -DI2S_LRCK_PIN=41
  -DI2S_DATA_PIN=2
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=10
  -DCAN_SCK_PIN=12
  -DCAN_SI_PIN=13
  -DCAN_SO_PIN=11
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=10
  -DETHERNET_CLK_PIN=12
  -DETHERNET_MISO_PIN=11
  -DETHERNET_MOSI_PIN=13
  -DETHERNET_IRQ_PIN=14

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=10
  -DSUBGHZ_SCK_PIN=12
  -DSUBGHZ_SI_PIN=13
  -DSUBGHZ_SO_PIN=11
  -DSUBGHZ_GDO_PIN=14

  ; --- RF24 ---
  ; use same wiring as SUBGHZ

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"10, 11, 12, 13, 14\""


[env:m5stack-stamps3]
board = m5stack-stamps3
lib_deps =
  m5stack/M5Unified@^0.2.7
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  -DDEVICE_M5STAMPS3

  ; --- Pin in use ---
  -DPROTECTED_PINS="\"19, 20, 22, 23, 24, 25, 27, 28, 29, 30, 31, 32\""

  ; --- Builtin LED ---
  -DLED_PIN=21
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=1

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=1
  -DUART_TX_PIN=3

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=1

  ; --- I2C ---
  -DI2C_SCL_PIN=15
  -DI2C_SDA_PIN=13
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=1
  -DSPI_CLK_PIN=3
  -DSPI_MISO_PIN=5
  -DSPI_MOSI_PIN=7

  ; --- Infrared ---
  -DIR_TX_PIN=1
  -DIR_RX_PIN=3

  ; --- LED ---
  -DLED_DATA_PIN=1
  -DLED_CLOCK_PIN=3

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=1
  -DTWOWIRE_IO_PIN=3
  -DTWOWIRE_RST_PIN=5

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=1
  -DTHREEWIRE_SK_PIN=3
  -DTHREEWIRE_DI_PIN=5
  -DTHREEWIRE_DO_PIN=7

  ; --- I2S ---
  -DI2S_BCLK_PIN=1
  -DI2S_LRCK_PIN=3
  -DI2S_DATA_PIN=5
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=1
  -DCAN_SCK_PIN=3
  -DCAN_SI_PIN=5
  -DCAN_SO_PIN=7
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=1
  -DETHERNET_CLK_PIN=3
  -DETHERNET_MISO_PIN=5
  -DETHERNET_MOSI_PIN=7
  -DETHERNET_IRQ_PIN=9

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=1
  -DSUBGHZ_SCK_PIN=3
  -DSUBGHZ_SI_PIN=5
  -DSUBGHZ_SO_PIN=7
  -DSUBGHZ_GDO_PIN=9

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"1, 3, 5, 7\""


[env:atom-lite-s3]
board = m5stack-stamps3
lib_deps =
  m5stack/M5Unified@^0.2.7
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  -DDEVICE_M5STAMPS3

  ; --- Pin in use ---
  -DPROTECTED_PINS="\"19, 20, 22, 23, 24, 25, 27, 28, 29, 30, 31, 32\""

  ; --- Builtin LED ---
  -DLED_PIN=35
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=5

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=5
  -DUART_TX_PIN=6

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=5

  ; --- I2C ---
  -DI2C_SCL_PIN=39
  -DI2C_SDA_PIN=38
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=5
  -DSPI_CLK_PIN=6
  -DSPI_MISO_PIN=7
  -DSPI_MOSI_PIN=8

  ; --- Infrared ---
  -DIR_TX_PIN=4
  -DIR_RX_PIN=5

  ; --- LED ---
  -DLED_DATA_PIN=5
  -DLED_CLOCK_PIN=6

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=5
  -DTWOWIRE_IO_PIN=6
  -DTWOWIRE_RST_PIN=7

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=5
  -DTHREEWIRE_SK_PIN=6
  -DTHREEWIRE_DI_PIN=7
  -DTHREEWIRE_DO_PIN=8

  ; --- I2S ---
  -DI2S_BCLK_PIN=5
  -DI2S_LRCK_PIN=6
  -DI2S_DATA_PIN=7
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=5
  -DCAN_SCK_PIN=8
  -DCAN_SI_PIN=6
  -DCAN_SO_PIN=7 
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=5
  -DETHERNET_CLK_PIN=6
  -DETHERNET_MISO_PIN=7
  -DETHERNET_MOSI_PIN=8
  -DETHERNET_IRQ_PIN=39

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=5
  -DSUBGHZ_SCK_PIN=6
  -DSUBGHZ_SI_PIN=7
  -DSUBGHZ_SO_PIN=8
  -DSUBGHZ_GDO_PIN=39

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"5, 6, 7, 8, 38, 39\""


[env:t-embed-s3]
board = esp32-s3-devkitc-1
upload_speed = 921600
board_build.mcu = esp32s3
board_build.variant = esp32s3
monitor_filters = esp32_exception_decoder
lib_deps = 
  LovyanGFX=https://github.com/lovyan03/LovyanGFX
  mathertel/RotaryEncoder @1.5.3
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -DARDUINO_USB_MODE=1
  -DARDUINO_USB_CDC_ON_BOOT=1
  -DUSER_SETUP_LOADED=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  -DDEVICE_TEMBEDS3

  ; --- Pin in use ---
  -DPROTECTED_PINS="\"0, 1, 2, 12, 15, 19, 20, 22, 23, 24, 25, 27, 28, 29, 30, 31, 32\""

  ; --- Builtin LED ---
  -DLED_PIN=42
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=16

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=44
  -DUART_TX_PIN=43

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=44

  ; --- I2C ---
  -DI2C_SCL_PIN=44
  -DI2C_SDA_PIN=43
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=41
  -DSPI_CLK_PIN=40
  -DSPI_MISO_PIN=16
  -DSPI_MOSI_PIN=17

  ; ---- SD CARD ---
  -DSDCARD_CS_PIN=39
  -DSDCARD_CLK_PIN=40
  -DSDCARD_MISO_PIN=38
  -DSDCARD_MOSI_PIN=41

  ; --- Infrared ---
  -DIR_TX_PIN=43
  -DIR_RX_PIN=44

  ; --- LED ---
  -DLED_DATA_PIN=44
  -DLED_CLOCK_PIN=43

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=8
  -DTWOWIRE_IO_PIN=16
  -DTWOWIRE_RST_PIN=17

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=41
  -DTHREEWIRE_SK_PIN=40
  -DTHREEWIRE_DI_PIN=16
  -DTHREEWIRE_DO_PIN=17

  ; --- I2S ---
  -DI2S_BCLK_PIN=18
  -DI2S_LRCK_PIN=16
  -DI2S_DATA_PIN=8
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=41
  -DCAN_SCK_PIN=40
  -DCAN_SI_PIN=16
  -DCAN_SO_PIN=17
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=41
  -DETHERNET_CLK_PIN=40
  -DETHERNET_MISO_PIN=16
  -DETHERNET_MOSI_PIN=17
  -DETHERNET_IRQ_PIN=18

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=41
  -DSUBGHZ_SCK_PIN=40
  -DSUBGHZ_SI_PIN=16
  -DSUBGHZ_SO_PIN=17
  -DSUBGHZ_GDO_PIN=18

  ; ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"8, 18, 16, 17, 38, 40, 41\""


[env:t-embed-s3-cc1101]
board = esp32-s3-devkitc-1
board_build.mcu = esp32s3
board_build.variant = esp32s3
monitor_filters = esp32_exception_decoder
lib_deps = 
  LovyanGFX=https://github.com/lovyan03/LovyanGFX
  mathertel/RotaryEncoder @1.5.3
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -DARDUINO_USB_MODE=1
  -DARDUINO_USB_CDC_ON_BOOT=1
  -DUSER_SETUP_LOADED=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}
  
  -DDEVICE_TEMBEDS3CC1101

  ; --- Pin in use ---
  -DPROTECTED_PINS="\"0, 4, 5, 6, 16, 19, 20, 21, 22, 23, 24, 25, 27, 28, 29, 30, 31, 32, 41, 47\""

  ; --- Builtin LED ---
  -DLED_PIN=14
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=18

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=44
  -DUART_TX_PIN=43

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=44

  ; --- I2C ---
  -DI2C_SCL_PIN=18
  -DI2C_SDA_PIN=8
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=43
  -DSPI_CLK_PIN=44
  -DSPI_MISO_PIN=8
  -DSPI_MOSI_PIN=18

  ; ---- SD CARD ---
  -DSDCARD_CS_PIN=13
  -DSDCARD_CLK_PIN=11
  -DSDCARD_MISO_PIN=10
  -DSDCARD_MOSI_PIN=9

  ; --- Infrared ---
  -DIR_TX_PIN=2
  -DIR_RX_PIN=1

  ; --- LED ---
  -DLED_DATA_PIN=44
  -DLED_CLOCK_PIN=43

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=8
  -DTWOWIRE_IO_PIN=18
  -DTWOWIRE_RST_PIN=43

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=43
  -DTHREEWIRE_SK_PIN=44
  -DTHREEWIRE_DI_PIN=8
  -DTHREEWIRE_DO_PIN=18

  ; --- CAN ---
  -DCAN_CS_PIN=43
  -DCAN_SCK_PIN=44
  -DCAN_SI_PIN=8
  -DCAN_SO_PIN=18
  -DCAN_KBPS=125

  ; --- I2S ---
  -DI2S_BCLK_PIN=46
  -DI2S_LRCK_PIN=40
  -DI2S_DATA_PIN=7
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=43
  -DETHERNET_CLK_PIN=44
  -DETHERNET_MISO_PIN=8
  -DETHERNET_MOSI_PIN=18
  -DETHERNET_IRQ_PIN=17

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=12
  -DSUBGHZ_SCK_PIN=11
  -DSUBGHZ_SI_PIN=9
  -DSUBGHZ_SO_PIN=10
  -DSUBGHZ_GDO_PIN=3

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"43, 44, 8, 18\""


[env:xiao-esp32s3]
board = esp32-s3-devkitc-1
lib_deps =
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  ${env.build_flags}

  -DDEVICE_S3DEVKIT

 ; --- Pin in use ---
  -DPROTECTED_PINS="\"19, 20, 45, 46\""

  ; --- Builtin LED ---
  -DLED_PIN=48
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=1

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=1
  -DUART_TX_PIN=2

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=1

  ; --- I2C ---
  -DI2C_SCL_PIN=6
  -DI2C_SDA_PIN=5
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=1
  -DSPI_CLK_PIN=2
  -DSPI_MISO_PIN=3
  -DSPI_MOSI_PIN=4

  ; --- Infrared ---
  -DIR_TX_PIN=1
  -DIR_RX_PIN=2

  ; --- LED ---
  -DLED_DATA_PIN=1
  -DLED_CLOCK_PIN=2

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=1
  -DTWOWIRE_IO_PIN=2
  -DTWOWIRE_RST_PIN=3

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=1
  -DTHREEWIRE_SK_PIN=2
  -DTHREEWIRE_DI_PIN=3
  -DTHREEWIRE_DO_PIN=4

  ; --- I2S ---
  -DI2S_BCLK_PIN=1
  -DI2S_LRCK_PIN=2
  -DI2S_DATA_PIN=3
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=1
  -DCAN_SCK_PIN=2
  -DCAN_SI_PIN=3
  -DCAN_SO_PIN=4
  -DCAN_KBPS=125

  ; --- ETHERNET (W5500) ---
  -DETHERNET_CS_PIN=1
  -DETHERNET_CLK_PIN=2
  -DETHERNET_MISO_PIN=3
  -DETHERNET_MOSI_PIN=4
  -DETHERNET_IRQ_PIN=5

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=1
  -DSUBGHZ_SCK_PIN=2
  -DSUBGHZ_SI_PIN=4
  -DSUBGHZ_SO_PIN=3
  -DSUBGHZ_GDO_PIN=5

  ; --- JTAG ---
  -DJTAG_SCAN_PINS="\"1, 2, 3, 4\""


[env:p4-nano]
board = esp32-p4_r3
lib_deps =
  fastled/FastLED@^3.3.3
  bblanchon/ArduinoJson@^7.3.0
  paulstoffregen/OneWire@^2.3.8
  esp32ping
  hideakitai/ESP32SPISlave@^0.6.8
  gilman88/XModem@^1.0.3
  ewpa/LibSSH-ESP32@^5.6.0
  autowp/autowp-mcp2515@^1.2.1
  sparkfun/SparkFun External EEPROM Arduino Library@^3.2.10
  miq19/eModbus@^1.7.4
  pstolarz/OneWireNg@^0.14.0
  nrf24/RF24@^1.5.0
build_flags =
  -D CONFIG_TINYUSB_ENABLED=1
  -D CONFIG_TINYUSB_CDC_ENABLED=1
  -D CONFIG_TINYUSB_HID_ENABLED=1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D CONFIG_CRC16_ENABLED=1 ; 1Wire EEPROM OneWireNg
  -D BOARD_HAS_PSRAM=1
  ${env.build_flags}

  -D DEVICE_P4DEVKIT

  -Wl,-zmuldefs                         ; ieee80211_raw_frame_sanity_check override - needed for WiFi deauth 

 ; --- Pin in use ---
;  -DPROTECTED_PINS="\"3, 19, 20, 35, 36, 37, 45, 46\""
  -DPROTECTED_PINS="\"3, 19, 20, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 45, 46\""

  ; --- Builtin LED ---
  -DLED_PIN=48
  -DLED_TYPE_RGB=true

  ; --- OneWire ---
  -DONEWIRE_PIN=6

  ; --- UART ---
  -DUART_BAUD=9600
  -DUART_RX_PIN=37
  -DUART_TX_PIN=38

  ; --- HDUART ---
  -DHDUART_BAUD=9600
  -DHDUART_PIN=37

  ; --- I2C ---
  -DI2C_SCL_PIN=8
  -DI2C_SDA_PIN=7
  -DI2C_FREQ=100000

  ; --- SPI ---
  -DSPI_CS_PIN=2
  -DSPI_CLK_PIN=3
  -DSPI_MISO_PIN=4
  -DSPI_MOSI_PIN=5

  ; --- Infrared ---
  -DIR_TX_PIN=20
  -DIR_RX_PIN=21

  ; --- LED ---
  -DLED_DATA_PIN=23
  -DLED_CLOCK_PIN=25

  ; --- TwoWire ---
  -DTWOWIRE_CLK_PIN=3
  -DTWOWIRE_IO_PIN=4
  -DTWOWIRE_RST_PIN=6

  ; --- ThreeWire ---
  -DTHREEWIRE_CS_PIN=2
  -DTHREEWIRE_SK_PIN=3
  -DTHREEWIRE_DI_PIN=5
  -DTHREEWIRE_DO_PIN=4

  ; --- I2S ---
  -DI2S_BCLK_PIN=20
  -DI2S_LRCK_PIN=21
  -DI2S_DATA_PIN=24
  -DI2S_SAMPLE_RATE=16000
  -DI2S_BITS=16

  ; --- CAN ---
  -DCAN_CS_PIN=2
  -DCAN_SCK_PIN=3
  -DCAN_SI_PIN=5
  -DCAN_SO_PIN=4
  -DCAN_KBPS=125

  ; --- ETHERNET (Built-in RMII via IP101GRI PHY) ---
  ; TXD[1:0]: GPIO34, GPIO35
  ; RXD[1:0]: GPIO30, GPIO29
  ; TX_EN: GPIO49
  ; CRS_DV: GPIO28
  ; REF_CLK: GPIO50 (50MHz)
  ; MDIO: GPIO52
  ; MDC: GPIO31
  ; RESET: GPIO51
  -DETHERNET_TXD0_PIN=34
  -DETHERNET_TXD1_PIN=35
  -DETHERNET_RXD0_PIN=29
  -DETHERNET_RXD1_PIN=30
  -DETHERNET_TX_EN_PIN=49
  -DETHERNET_CRS_DV_PIN=28
  -DETHERNET_REF_CLK_PIN=50
  -DETHERNET_MDIO_PIN=52
  -DETHERNET_MDC_PIN=31
  -DETHERNET_RESET_PIN=51

  ; --- SUBGHZ ---
  -DSUBGHZ_CS_PIN=2
  -DSUBGHZ_SCK_PIN=3
  -DSUBGHZ_SI_PIN=5
  -DSUBGHZ_SO_PIN=4
  -DSUBGHZ_GDO_PIN=6
